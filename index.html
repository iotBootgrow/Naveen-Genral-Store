<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naveen General Stores - WhatsApp Order System Demo</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .demo-container { max-width: 1400px; margin: 0 auto; }
        .header { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); margin-bottom: 30px; text-align: center; }
        .header h1 { color: #2d3748; font-size: 32px; margin-bottom: 10px; }
        .store-name { color: #667eea; font-weight: bold; }
        .header p { color: #718096; font-size: 18px; }
        .demo-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
        @media (max-width: 968px) { .demo-grid { grid-template-columns: 1fr; } }
        .demo-panel { background: white; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); overflow: hidden; }
        .panel-header { background: #25D366; color: white; padding: 20px; font-size: 20px; font-weight: 600; display: flex; align-items: center; gap: 10px; }
        .dashboard-header { background: #4a5568; }
        .whatsapp-container { height: 600px; display: flex; flex-direction: column; background: #e5ddd5; }
        .chat-messages { flex: 1; overflow-y: auto; padding: 20px; }
        .message { margin-bottom: 12px; display: flex; animation: slideIn 0.3s ease; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .message-bot { justify-content: flex-start; }
        .message-user { justify-content: flex-end; }
        .message-bubble { max-width: 70%; padding: 12px 16px; border-radius: 8px; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .message-bot .message-bubble { background: white; border-radius: 0 8px 8px 8px; }
        .message-user .message-bubble { background: #dcf8c6; border-radius: 8px 0 8px 8px; }
        .product-card { background: #f0f9ff; border: 1px solid #bae6fd; border-radius: 6px; padding: 10px; margin: 5px 0; }
        .product-name { font-weight: 600; color: #1e40af; font-size: 14px; }
        .product-price { color: #16a34a; font-weight: bold; font-size: 14px; }
        .product-mrp { color: #94a3b8; text-decoration: line-through; font-size: 12px; margin-left: 5px; }
        .product-savings { background: #dcfce7; color: #166534; padding: 2px 6px; border-radius: 4px; font-size: 11px; font-weight: 600; display: inline-block; margin-top: 3px; }
        .quick-replies { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
        .quick-reply-btn { background: #4a90e2; color: white; border: none; padding: 8px 16px; border-radius: 20px; cursor: pointer; font-size: 14px; transition: all 0.2s; }
        .quick-reply-btn:hover { background: #357abd; transform: translateY(-2px); }
        .input-area { padding: 15px; background: #f0f0f0; display: flex; gap: 10px; }
        .input-area input { flex: 1; padding: 12px; border: 1px solid #ccc; border-radius: 25px; font-size: 15px; }
        .input-area button { background: #25D366; color: white; border: none; padding: 12px 24px; border-radius: 25px; cursor: pointer; font-weight: 600; }
        .dashboard-container { height: 600px; overflow-y: auto; padding: 20px; }
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px; }
        .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 8px; text-align: center; }
        .stat-value { font-size: 32px; font-weight: bold; margin-bottom: 5px; }
        .stat-label { font-size: 14px; opacity: 0.9; }
        .order-card { background: #f7fafc; border: 2px solid #e2e8f0; border-radius: 8px; padding: 20px; margin-bottom: 15px; position: relative; animation: slideIn 0.5s ease; }
        .order-card.new-order { border-color: #48bb78; background: #f0fff4; }
        .order-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .order-id { font-weight: bold; color: #2d3748; font-size: 18px; }
        .order-status { padding: 6px 12px; border-radius: 20px; font-size: 12px; font-weight: 600; }
        .status-new { background: #fed7d7; color: #c53030; }
        .status-confirmed { background: #c6f6d5; color: #2f855a; }
        .customer-info { margin-bottom: 15px; padding: 12px; background: white; border-radius: 6px; }
        .customer-name { font-weight: 600; color: #2d3748; margin-bottom: 5px; }
        .customer-phone { color: #718096; font-size: 14px; margin-bottom: 5px; }
        .customer-address { color: #4a5568; font-size: 14px; line-height: 1.4; }
        .order-items { margin-bottom: 15px; }
        .order-item { padding: 8px 0; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; }
        .order-item-name { flex: 1; }
        .order-item-savings { color: #16a34a; font-size: 12px; font-weight: 600; }
        .order-summary { background: white; padding: 12px; border-radius: 6px; margin-top: 10px; }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 14px; }
        .summary-row.total { font-size: 18px; font-weight: bold; color: #2d3748; padding-top: 8px; border-top: 2px solid #e2e8f0; }
        .savings-highlight { color: #16a34a; font-weight: 600; }
        .action-buttons { display: flex; gap: 10px; margin-top: 15px; }
        .btn { flex: 1; padding: 12px; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; transition: all 0.2s; }
        .btn-accept { background: #48bb78; color: white; }
        .btn-accept:hover { background: #38a169; transform: translateY(-2px); }
        .btn-reject { background: #f56565; color: white; }
        .btn-reject:hover { background: #e53e3e; transform: translateY(-2px); }
        .notification { position: fixed; top: 20px; right: 20px; background: #48bb78; color: white; padding: 16px 24px; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 1000; animation: slideInRight 0.3s ease; }
        @keyframes slideInRight { from { opacity: 0; transform: translateX(100px); } to { opacity: 1; transform: translateX(0); } }
        .controls { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); text-align: center; }
        .control-btn { background: #4a5568; color: white; border: none; padding: 15px 30px; border-radius: 8px; font-size: 16px; font-weight: 600; cursor: pointer; margin: 0 10px; transition: all 0.2s; }
        .control-btn:hover { background: #2d3748; transform: translateY(-2px); }
        .emoji { font-size: 20px; }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="header">
            <h1>üõí <span class="store-name">Naveen General Stores</span></h1>
            <p>WhatsApp Order System - Live Demo</p>
        </div>
        <div class="demo-grid">
            <div class="demo-panel">
                <div class="panel-header"><span class="emoji">üì±</span>Customer View (WhatsApp)</div>
                <div class="whatsapp-container">
                    <div class="chat-messages" id="chatMessages"></div>
                    <div class="input-area">
                        <input type="text" id="userInput" placeholder="Type a message..." />
                        <button onclick="sendMessage()">Send</button>
                    </div>
                </div>
            </div>
            <div class="demo-panel">
                <div class="panel-header dashboard-header"><span class="emoji">üíº</span>Merchant Dashboard</div>
                <div class="dashboard-container">
                    <div class="stats-grid">
                        <div class="stat-card"><div class="stat-value" id="todayOrders">0</div><div class="stat-label">Today's Orders</div></div>
                        <div class="stat-card"><div class="stat-value" id="todayRevenue">‚Çπ0</div><div class="stat-label">Revenue</div></div>
                        <div class="stat-card"><div class="stat-value" id="totalSavings">‚Çπ0</div><div class="stat-label">Customer Savings</div></div>
                    </div>
                    <div id="ordersContainer"></div>
                </div>
            </div>
        </div>
        <div class="controls">
            <button class="control-btn" onclick="startDemo()">‚ñ∂Ô∏è Start Demo</button>
            <button class="control-btn" onclick="resetDemo()">üîÑ Reset</button>
        </div>
    </div>
    <script>
        let conversationState='welcome',cart=[],orderCounter=0,todayOrders=0,todayRevenue=0,totalSavings=0,deliveryAddress='',customerName='';
        const products={atta:[{id:1,name:'Aashirvaad Atta',mrp:310,price:280,unit:'5kg'},{id:2,name:'Pillsbury Atta',mrp:295,price:265,unit:'5kg'},{id:3,name:'Annapurna Atta',mrp:275,price:245,unit:'5kg'},{id:4,name:'Shakti Bhog Atta',mrp:300,price:270,unit:'5kg'}],rice:[{id:5,name:'India Gate Basmati',mrp:200,price:180,unit:'kg'},{id:6,name:'Daawat Basmati',mrp:190,price:170,unit:'kg'},{id:7,name:'Fortune Basmati',mrp:180,price:160,unit:'kg'}],dal:[{id:8,name:'Toor Dal',mrp:140,price:120,unit:'kg'},{id:9,name:'Moong Dal',mrp:130,price:110,unit:'kg'},{id:10,name:'Masoor Dal',mrp:120,price:100,unit:'kg'}],oil:[{id:11,name:'Fortune Sunflower Oil',mrp:210,price:180,unit:'L'},{id:12,name:'Saffola Gold',mrp:250,price:220,unit:'L'},{id:13,name:'Dhara Mustard Oil',mrp:185,price:160,unit:'L'}],biscuits:[{id:14,name:'Parle-G',mrp:12,price:10,unit:'pack'},{id:15,name:'Britannia Marie Gold',mrp:40,price:35,unit:'pack'},{id:16,name:'Good Day',mrp:35,price:30,unit:'pack'},{id:17,name:'Hide & Seek',mrp:45,price:40,unit:'pack'}],dairy:[{id:18,name:'Amul Milk',mrp:68,price:60,unit:'L'},{id:19,name:'Mother Dairy Curd',mrp:58,price:50,unit:'400g'},{id:20,name:'Amul Butter',mrp:62,price:55,unit:'100g'}],spices:[{id:21,name:'MDH Garam Masala',mrp:140,price:120,unit:'100g'},{id:22,name:'Everest Chilli Powder',mrp:95,price:80,unit:'100g'},{id:23,name:'Tata Salt',mrp:25,price:22,unit:'kg'}]};
        function addBotMessage(t,q=[]){const m=document.getElementById('chatMessages'),d=document.createElement('div');d.className='message message-bot';let h=`<div class="message-bubble">${t}</div>`;if(q.length>0){h=`<div class="message-bubble">${t}<div class="quick-replies">`;q.forEach(r=>h+=`<button class="quick-reply-btn" onclick="handleQuickReply('${r}')">${r}</button>`);h+=`</div></div>`;}d.innerHTML=h;m.appendChild(d);m.scrollTop=m.scrollHeight;}
        function addUserMessage(t){const m=document.getElementById('chatMessages'),d=document.createElement('div');d.className='message message-user';d.innerHTML=`<div class="message-bubble">${t}</div>`;m.appendChild(d);m.scrollTop=m.scrollHeight;}
        function showNotification(t){const n=document.createElement('div');n.className='notification';n.textContent=t;document.body.appendChild(n);setTimeout(()=>n.remove(),3000);}
        function updateStats(){document.getElementById('todayOrders').textContent=todayOrders;document.getElementById('todayRevenue').textContent='‚Çπ'+todayRevenue;document.getElementById('totalSavings').textContent='‚Çπ'+totalSavings;}
        function createOrder(items,subtotal,totalMRP,total,address,name){orderCounter++;todayOrders++;todayRevenue+=total;const orderSavings=totalMRP-subtotal;totalSavings+=orderSavings;updateStats();const orderId=`ORD-${String(orderCounter).padStart(3,'0')}`,orderCard=document.createElement('div');orderCard.className='order-card new-order';orderCard.id=`order-${orderCounter}`;let itemsHtml='';items.forEach(item=>{itemsHtml+=`<div class="order-item"><div class="order-item-name">${item.quantity} ${item.unit} ${item.name}<br><span class="order-item-savings">Saved ‚Çπ${item.savings}</span></div><span>‚Çπ${item.total}</span></div>`;});orderCard.innerHTML=`<div class="order-header"><div class="order-id">${orderId}</div><div class="order-status status-new">NEW ORDER</div></div><div class="customer-info"><div class="customer-name">${name}</div><div class="customer-phone">+91 9876543210</div><div class="customer-address">üìç ${address}</div></div><div class="order-items">${itemsHtml}</div><div class="order-summary"><div class="summary-row"><span>Subtotal:</span><span>‚Çπ${subtotal}</span></div><div class="summary-row"><span>Delivery:</span><span>‚Çπ20</span></div><div class="summary-row savings-highlight"><span>üí∞ Customer Saved:</span><span>‚Çπ${orderSavings}</span></div><div class="summary-row total"><span>Total:</span><span>‚Çπ${total}</span></div></div><div class="action-buttons"><button class="btn btn-accept" onclick="acceptOrder(${orderCounter})">‚úì Accept Order</button><button class="btn btn-reject" onclick="rejectOrder(${orderCounter})">‚úó Reject</button></div>`;document.getElementById('ordersContainer').insertBefore(orderCard,document.getElementById('ordersContainer').firstChild);showNotification('üîî New Order Received!');}
        function acceptOrder(orderId){const orderCard=document.getElementById(`order-${orderId}`);orderCard.classList.remove('new-order');const statusBadge=orderCard.querySelector('.order-status');statusBadge.textContent='CONFIRMED';statusBadge.className='order-status status-confirmed';orderCard.querySelector('.action-buttons').innerHTML=`<button class="btn btn-accept" onclick="markDelivered(${orderId})">üöö Mark as Delivered</button>`;showNotification('‚úì Order Confirmed!');addBotMessage('‚úÖ Your order has been confirmed!<br><br>üì¶ Order ID: ORD-'+String(orderId).padStart(3,'0')+'<br>üöö Will deliver within 2 hours<br>üí∞ Payment: Cash on Delivery<br><br>Thank you for shopping with Naveen General Stores! üôè');}
        function rejectOrder(orderId){document.getElementById(`order-${orderId}`).remove();todayOrders--;updateStats();showNotification('Order Rejected');addBotMessage('üòî Sorry, we cannot process your order right now. Some items may be out of stock. Please contact us at the store.');}
        function markDelivered(orderId){const orderCard=document.getElementById(`order-${orderId}`);orderCard.style.opacity='0.5';orderCard.querySelector('.action-buttons').innerHTML=`<div style="text-align: center; color: #48bb78; font-weight: bold;">‚úì Delivered</div>`;showNotification('‚úì Order Delivered!');}
        function showProductList(category){let productList='';products[category].forEach((p,i)=>{const savings=p.mrp-p.price;const savingsPercent=Math.round((savings/p.mrp)*100);productList+=`<div class="product-card"><div>${i+1}. <span class="product-name">${p.name}</span><br><span class="product-price">‚Çπ${p.price}/${p.unit}</span><span class="product-mrp">‚Çπ${p.mrp}</span><br><span class="product-savings">Save ‚Çπ${savings} (${savingsPercent}% OFF)</span></div></div>`;});return productList;}
        function handleConversation(message){if(conversationState==='welcome'){addBotMessage('Namaste! Welcome to <strong>Naveen General Stores</strong>! üõí<br><br>üéâ <strong>Special Offers Today!</strong><br><br>What would you like to order?',['üåæ Atta & Rice','ü•õ Dairy','üç™ Biscuits','üå∂Ô∏è Dal & Oil','üßÇ Spices']);conversationState='category';}else if(conversationState==='category'){let productList='',selectedCategory=null;if(message.includes('Atta')||message==='1'){productList='üåæ <strong>Atta & Rice - Special Offers:</strong><br><br>';productList+=showProductList('atta')+showProductList('rice');selectedCategory='atta_rice';}else if(message.includes('Dairy')||message==='2'){productList='ü•õ <strong>Fresh Dairy Products:</strong><br><br>';productList+=showProductList('dairy');selectedCategory='dairy';}else if(message.includes('Biscuits')||message==='3'){productList='üç™ <strong>Biscuits & Snacks:</strong><br><br>';productList+=showProductList('biscuits');selectedCategory='biscuits';}else if(message.includes('Dal')||message==='4'){productList='üå∂Ô∏è <strong>Dal & Cooking Oil:</strong><br><br>';productList+=showProductList('dal')+showProductList('oil');selectedCategory='dal_oil';}else if(message.includes('Spices')||message==='5'){productList='üßÇ <strong>Spices & Masala:</strong><br><br>';productList+=showProductList('spices');selectedCategory='spices';}if(selectedCategory){productList+='<br><strong>How to order:</strong> Reply with item number and quantity<br>Example: <strong>1 2</strong> (item 1, quantity 2)';addBotMessage(productList);conversationState='ordering';}}else if(conversationState==='ordering'){const match=message.match(/(\d+)\s+(\d+)/);if(match){const itemNum=parseInt(match[1]),quantity=parseInt(match[2]);let allProducts=[...products.atta,...products.rice,...products.dal,...products.oil,...products.biscuits,...products.dairy,...products.spices];const product=allProducts[itemNum-1];if(product){const total=product.price*quantity,savings=(product.mrp-product.price)*quantity;cart.push({name:product.name,quantity:quantity,unit:product.unit,price:product.price,mrp:product.mrp,total:total,savings:savings});const cartTotal=cart.reduce((sum,item)=>sum+item.total,0),totalSaved=cart.reduce((sum,item)=>sum+item.savings,0);addBotMessage(`‚úì Added: ${quantity} ${product.unit} ${product.name} (‚Çπ${total})<br>üí∞ You saved: ‚Çπ${savings}<br><br>üõí Cart Total: ‚Çπ${cartTotal}<br>üíµ Total Savings: ‚Çπ${totalSaved}<br><br>Would you like to add more items?`,['‚úÖ Checkout','‚ûï Add More']);conversationState='cart';}}else{addBotMessage('Please use format: item_number quantity<br>Example: 1 2');}}else if(conversationState==='cart'){if(message.includes('Checkout')){const total=cart.reduce((sum,item)=>sum+item.total,0),totalSaved=cart.reduce((sum,item)=>sum+item.savings,0);addBotMessage(`üì¶ <strong>Order Summary:</strong><br><br>${cart.map(item=>`${item.quantity} ${item.unit} ${item.name} - ‚Çπ${item.total} <span style="color:#16a34a">(Saved ‚Çπ${item.savings})</span>`).join('<br>')}<br><br><strong>Subtotal: ‚Çπ${total}</strong><br>üí∞ <strong>You Saved: ‚Çπ${totalSaved}</strong><br>Delivery: ‚Çπ20<br><strong>Total: ‚Çπ${total+20}</strong><br><br>Please share your delivery address:`);conversationState='address';}else{conversationState='category';handleConversation('more');}}else if(conversationState==='address'){deliveryAddress=message;addBotMessage('Thank you! And your name please?');conversationState='name';}else if(conversationState==='name'){customerName=message;const subtotal=cart.reduce((sum,item)=>sum+item.total,0),totalMRP=cart.reduce((sum,item)=>sum+(item.mrp*item.quantity),0),totalSaved=cart.reduce((sum,item)=>sum+item.savings,0),total=subtotal+20;addBotMessage(`Perfect! Here are the delivery details:<br><br>üìç <strong>Address:</strong> ${deliveryAddress}<br>üë§ <strong>Name:</strong> ${customerName}<br>üöö <strong>Delivery Time:</strong> 4-7 PM Today<br>üí∞ <strong>Payment:</strong> Cash on Delivery<br>üíµ <strong>You're Saving:</strong> ‚Çπ${totalSaved}<br><br>Confirm your order?`,['‚úÖ Confirm Order','‚ùå Cancel']);conversationState='confirm';}else if(conversationState==='confirm'){if(message.includes('Confirm')){const subtotal=cart.reduce((sum,item)=>sum+item.total,0),totalMRP=cart.reduce((sum,item)=>sum+(item.mrp*item.quantity),0),total=subtotal+20;createOrder([...cart],subtotal,totalMRP,total,deliveryAddress,customerName);addBotMessage('üéâ Thank you! Your order is being processed...');cart=[];deliveryAddress='';customerName='';conversationState='complete';}else{addBotMessage('Order cancelled. Type "hi" to start again.');cart=[];deliveryAddress='';customerName='';conversationState='welcome';}}}
        function handleQuickReply(reply){addUserMessage(reply);setTimeout(()=>handleConversation(reply),500);}
        function sendMessage(){const input=document.getElementById('userInput'),message=input.value.trim();if(message){addUserMessage(message);input.value='';setTimeout(()=>handleConversation(message),500);}}
        document.getElementById('userInput').addEventListener('keypress',function(e){if(e.key==='Enter')sendMessage();});
        function startDemo(){resetDemo();setTimeout(()=>{addUserMessage('Hi');setTimeout(()=>handleConversation('hi'),800);},500);}
        function resetDemo(){document.getElementById('chatMessages').innerHTML='';document.getElementById('ordersContainer').innerHTML='';cart=[];conversationState='welcome';orderCounter=0;todayOrders=0;todayRevenue=0;totalSavings=0;deliveryAddress='';customerName='';updateStats();}
        updateStats();addBotMessage('üëã Namaste! Welcome to <strong>Naveen General Stores</strong>!<br><br>Click "Start Demo" below to see how the system works, or type "hi" to begin ordering.');
    </script>
</body>
</html>
